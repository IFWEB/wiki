# h5异常问题分析

## click呼起电话异常分析
#### 现象和原因分析
呼起电话链接\<a href="tel:11111">联系客服\</a>，呼起电话是这个标签的默认功能，响应click事件时触发。当文案"联系客服"的父节点（除开document外）绑定click事件的处理中执行e.preventDefault()，会导致呼起电话失败。
#### 解决方案
1. 去除 e.preventDefault()。 
2. 使用其他事件，比如tap事件代替click来执行想要的处理，保证click通畅。

  
## ios手机通过js实现focus异常分析
####  现象和原因分析
页面的js代码中执行 $("#inputElement").focus() 发现无效。iOS下，通过JS调用键盘或设置focus是被禁止的，亦或许是一个bug。在这种情况下，其实focus事件已经执行了，input框没有获得焦点，iPhone键盘跳不出来。但是可以监听其他点击事件，在回调中添加这个命令就可以了。
```javascript
//用户点击#element元素可以激活小键盘
$("#element").on("click",function(){
	$("#inputElement").focus();
});
```
#### 解决方案
1. 绑定一个click事件，在click事件响应中执行$("#inputElement").focus()。
 
 
## ios-input节点readonly的input框能上光标
#### 现象和原因分析
input节点readonly的input框能上光标，而且光标总是显示在页面最顶层（z-index超大）。
#### 解决方案
1. \<input type="text" readonly unselectable="on" onfocus="this.blur()">。
2. 使用disabled属性代替，不过disabled样式和readonly会有差别需要处理。
 

## ios-img节点在ios app和safari中不显示的问题
#### 现象和原因分析
img节点的样式设置了content 属性。在ios apphe safari中有兼容问题，图片会不展示。
#### 解决方案
1. 去掉content属性即可。

	
