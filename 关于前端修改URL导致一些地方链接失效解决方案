###关于前端修改URL导致一些地方链接失效解决方案

####例子
```
在H5 上修改了一个文件名，比如 a.html 改成了 b.html。由于文件名修改，导致访问这个页面的URL由 /a.html 变成了 /b.html，于是在H5里面全局搜索 /a.html ，并全局替换成 /b.html，想想应该OK了，于是发布出去，然而问题出现了，正好APP上链接地址写死了/a.html，由于APP代码并不归自己管理，开发在这个过程中并未发现这个问题。
```

这种情况很容易出现，由于互联网的开放性，一个URL地址，可能在很多地方有入口，比如H5下引入了PC的一个地址，公众号菜单埋了H5的地址等等。为了有效的规避这类问题，提出以下的解决方案

####步骤一
首先开发同学在遇到修改或删除html、JSP文件的情况时，要特别注意，需要自己去找出项目中有可能出现该链接入口的场景。目前有以下场景是有可能存在链接入口：
- 前端 `H5 项目`
- 前端 `PC 项目`
- 前端运行中的 `activity 项目`
- APP （IOS & Android）
- 理财农场订阅号
- 理财农场服务号
- 后台（前后端分离后，理论上不存在后台控制链接跳转了，但还是要留意，有可能后台会返回链接地址）
- 运营同学拿去推广的链接，比如落地推广页

####步骤二
由于入口的地方可能会比较多，不容易找全，为了避免遗漏出现的URL地址错误，请不要删除原始文件。比如上述例子中，保留a.html 文件，并将 a.html 里面内容修改成如下代码：
```HTML
<!DOCTYPE html>
<html>
<head>
    <title>301</title>
</head>
<script src="//hm.baidu.com/hm.js?a041a0f4ff93aef6aa83f34134331a1d"></script>
<script>
    location.href = '/b.html';
</script>
<body>
</body>
</html>
```
代码功能很简单：引入百度统计和前端页面跳转。百度统计是为了统计这个页面的访问量，方便后续追踪（注意百度统计代码必须通过 script 标签形式同步引入）。页面跳转则保证即使是访问旧的页面，也可以在前端跳转到新的页面。

####步骤三
上述例子中 a.html 文件其实是没有用到的，保留是为了以防万一。但是如果这类文件一直保留着的话，对于项目的可维护性不友好。因此还需要定期去清理。由于上述代码中加入了百度统计，那么，我们可以在百度统计中，看到 a.html 这个页面的在某段时间内的访问量。**当 a.html 在一个月的时间，PV在为0的，我们认为这个文件已经没有人访问了，可以直接删除**。否则，继续保留，并分析可能存在的入口。

为了更好的管理，任何删除或修改的 html 文件，需在石墨文档中登记。石墨文档定期检查，以便及时清理无效文件。
https://shimo.im/sheet/hb0ua1FftgMTV5jp
![Alt text](./1489477750157.png)
